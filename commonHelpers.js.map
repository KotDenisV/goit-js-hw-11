{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js"],"sourcesContent":["\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\nconst form = document.querySelector('.images-form');\nconst imagesList = document.querySelector('.images-container');\nconst request = document.querySelector('.images-form-input');\n\n\nform.addEventListener('submit', handleSubmit);\n// form.addEventListener('click', handleClick);\n\nfunction handleSubmit(event) {\n  event.preventDefault();\n    if (request.value.trim() === '') {\n      alert('Please enter a search query');\n      return; \n  }\n\n  const query = event.target.elements.query.value.trim();\n\n  searchImages(query)\n    .then(data => {\n      const markup = imagesTemplate(data.hits);\n      imagesList.innerHTML = markup;\n    })\n    .catch(err => {\n      console.log(err);\n    });\n};\n\n\nfunction searchImages(query) {\n    const baseUrl = 'https://pixabay.com/api/';\n    const params = new URLSearchParams({\n    key: '44020863-07a417a47184dc9fb21f180f5',\n    q: query,\n    lang: 'en',\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n    const url = `${baseUrl}?${params}`;\n\n    return fetch(url).then(response => {\n        if(!response.ok) {\n          throw new Error(response.statusText)\n        }\n        response.json()\n    });\n}\n\nfunction imageTemplate(image) {\n  return `<img\n  src=\"${image.webformatURL}\"\n  alt=\"image\"\n  width=\"360\"\n  height=\"200\"\n/>`;\n}\n\nfunction imagesTemplate(arr) {\n  if (arr.length === 0) {\n        iziToast.show({\n          position: 'topRight',\n          backgroundColor: '#EF4040',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          messageColor: '#FAFAFB',\n        });\n    }\n  return arr.map(imageTemplate).join('');\n}\n\n"],"names":["form","imagesList","request","handleSubmit","event","query","searchImages","data","markup","imagesTemplate","err","baseUrl","params","url","response","imageTemplate","image","arr","iziToast"],"mappings":"svBAKA,MAAMA,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAa,SAAS,cAAc,mBAAmB,EACvDC,EAAU,SAAS,cAAc,oBAAoB,EAG3DF,EAAK,iBAAiB,SAAUG,CAAY,EAG5C,SAASA,EAAaC,EAAO,CAEzB,GADFA,EAAM,eAAc,EACdF,EAAQ,MAAM,KAAI,IAAO,GAAI,CAC/B,MAAM,6BAA6B,EACnC,MACH,CAED,MAAMG,EAAQD,EAAM,OAAO,SAAS,MAAM,MAAM,OAEhDE,EAAaD,CAAK,EACf,KAAKE,GAAQ,CACZ,MAAMC,EAASC,EAAeF,EAAK,IAAI,EACvCN,EAAW,UAAYO,CAC7B,CAAK,EACA,MAAME,GAAO,CACZ,QAAQ,IAAIA,CAAG,CACrB,CAAK,CACL,CAGA,SAASJ,EAAaD,EAAO,CACzB,MAAMM,EAAU,2BACVC,EAAS,IAAI,gBAAgB,CACnC,IAAK,qCACL,EAAGP,EACH,KAAM,KACN,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EACOQ,EAAM,GAAGF,CAAO,IAAIC,CAAM,GAEhC,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAY,CAC/B,GAAG,CAACA,EAAS,GACX,MAAM,IAAI,MAAMA,EAAS,UAAU,EAErCA,EAAS,KAAM,CACvB,CAAK,CACL,CAEA,SAASC,EAAcC,EAAO,CAC5B,MAAO;AAAA,SACAA,EAAM,YAAY;AAAA;AAAA;AAAA;AAAA,GAK3B,CAEA,SAASP,EAAeQ,EAAK,CAC3B,OAAIA,EAAI,SAAW,GACbC,EAAS,KAAK,CACZ,SAAU,WACV,gBAAiB,UACjB,QACE,2EACF,aAAc,SACxB,CAAS,EAEAD,EAAI,IAAIF,CAAa,EAAE,KAAK,EAAE,CACvC"}